2020-05-12 13:10:01,349 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] Routing file updated
2020-05-12 13:10:01,395 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] New routes created.
2020-05-12 13:10:11,964 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:10:11,965 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:10:11,966 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 13:10:11,966 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:10:11,966 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 13:10:11,967 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:10:11,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: 5d60cba0-c885-46aa-8847-788ac182880e
2020-05-12 13:10:11,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:10:11,969 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:10:11,969 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 13:10:11,969 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 13:10:11,969 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 13:10:11,970 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:10:11,970 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 13:10:11,970 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:10:11,970 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:10:11,970 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 13:10:12,041 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 13:10:12,041 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 13:10:12,042 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:10:12,043 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:10:12,049 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:10:12,115 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:10:12,136 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 13:10:12,201 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 13:10:12,204 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 13:10:12,205 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 13:10:12,206 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:10:12,206 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 13:10:12,207 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:10:12,209 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 13:10:12,209 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:10:12,242 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:10:12,358 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [insertRequest][to DB] Result ID: 5eba3dc4226bfb2e63f3b7a2
2020-05-12 13:10:12,359 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:13,433 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:14,443 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:15,451 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:16,456 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:17,465 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:18,474 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:19,477 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:20,483 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:21,489 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:22,493 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:23,499 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:24,507 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:25,516 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:26,519 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:27,525 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:28,535 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:29,545 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:30,551 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:31,556 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:32,564 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:33,571 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:34,576 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:35,583 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:36,588 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:37,592 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:38,595 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:39,605 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:40,610 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:41,617 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:42,622 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba3dc4226bfb2e63f3b7a2] from db
2020-05-12 13:10:42,625 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:10:42,646 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 13:10:42,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:10:42,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:10:42,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:10:42,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:10:42,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:10:42,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:10:42,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:10:42,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:10:42,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:10:42,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:10:42,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 13:10:42,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 13:10:42,649 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 13:10:42,649 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:15:09,577 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:15:09,577 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:15:09,577 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> content-type: application/json
2020-05-12 13:15:09,578 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:15:09,578 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> accept: */*
2020-05-12 13:15:09,578 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:15:09,578 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> postman-token: 76aa1ca7-e68d-456d-9e5f-3216665760eb
2020-05-12 13:15:09,578 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:15:09,579 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:15:09,579 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> connection: keep-alive
2020-05-12 13:15:09,579 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> content-length: 231
2020-05-12 13:15:09,579 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|>
2020-05-12 13:15:09,579 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:15:09,580 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] Ip Adress '127.0.0.1' is valid
2020-05-12 13:15:09,580 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:15:09,580 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:15:09,580 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] Looking for the header start with 'PGW'
2020-05-12 13:15:09,584 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] checking authentication for user 'pgw_fptplay'
2020-05-12 13:15:09,584 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] security context was null, so authorizating user
2020-05-12 13:15:09,584 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-3] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:15:09,584 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-3] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:15:09,587 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:15:09,589 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-3] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"cmd": "register",
	"trans_id": "1234",
	"service": "charge"
}'
2020-05-12 13:15:09,590 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-3] Service from the request is 'charge'
2020-05-12 13:15:09,594 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-3] [doTelcoCharge] doing telco charging...
2020-05-12 13:15:09,600 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [verifyParameter] Starting to check request: 1234
2020-05-12 13:15:09,600 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [verifyParameter] Result: true
2020-05-12 13:15:09,601 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:15:09,601 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [verifyRequestCredentials] Result: true
2020-05-12 13:15:09,601 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-3] Send msg = Notification {notificationType='TELCO_CHARGE_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='TELCOCHARGE_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='charge', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='register',trans_id='1234'}'}
2020-05-12 13:15:09,602 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-3] msgKeyword = null
2020-05-12 13:15:09,603 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-3] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:15:09,603 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-3] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='TELCO_CHARGE_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='TELCOCHARGE_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='charge', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='register',trans_id='1234'}'}
2020-05-12 13:15:09,617 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [insertRequest][to DB] Result ID: 5eba3eed226bfb2e63f3b7a4
2020-05-12 13:15:09,617 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:10,625 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:11,632 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:12,640 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:13,648 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:14,655 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:15,662 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:16,665 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:17,670 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:18,675 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:19,685 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:20,689 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:21,697 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:22,700 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:23,706 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:24,711 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:25,718 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:26,723 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:27,727 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:28,734 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:29,737 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:30,746 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:31,755 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:32,761 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:33,764 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:34,773 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:35,783 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:36,789 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:37,796 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:38,800 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:39,806 INFO com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba3eed226bfb2e63f3b7a4] from db
2020-05-12 13:15:39,808 WARN com.dz.apigw.services.TelcoChargingServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:15:39,811 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> {
2020-05-12 13:15:39,812 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:15:39,812 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:15:39,812 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:15:39,812 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:15:39,812 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:15:39,813 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:15:39,813 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:15:39,813 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"cmd": "register",
2020-05-12 13:15:39,813 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:15:39,813 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service": "charge"
2020-05-12 13:15:39,814 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> }
2020-05-12 13:15:39,814 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|< 200 OK
2020-05-12 13:15:39,815 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|<
2020-05-12 13:15:39,815 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|< {"error_code":-1,"trans_id":"1234"}
2020-05-12 13:16:30,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:16:30,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:16:30,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> content-type: application/json
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> accept: */*
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> postman-token: 6f72387b-0107-48db-b62a-cd53beecd781
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> connection: keep-alive
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> content-length: 239
2020-05-12 13:16:30,648 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|>
2020-05-12 13:16:30,649 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:16:30,649 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] Ip Adress '127.0.0.1' is valid
2020-05-12 13:16:30,649 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-5] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:16:30,649 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-5] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:16:30,649 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-5] Looking for the header start with 'PGW'
2020-05-12 13:16:30,655 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-5] checking authentication for user 'pgw_fptplay'
2020-05-12 13:16:30,655 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-5] security context was null, so authorizating user
2020-05-12 13:16:30,658 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-5] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:16:30,658 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-5] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:16:30,662 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-5] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:16:30,664 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-5] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:16:30,665 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-5] Service from the request is 'otp_confirm'
2020-05-12 13:16:30,665 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-5] [doOTPConfirm] doing otp confirm...
2020-05-12 13:16:30,666 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [verifyParameter] Starting to check request: 1234
2020-05-12 13:16:30,666 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [verifyParameter] Result: true
2020-05-12 13:16:30,666 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:16:30,666 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [verifyRequestCredentials] Result: true
2020-05-12 13:16:30,666 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-5] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:16:30,667 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-5] msgKeyword = null
2020-05-12 13:16:30,667 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-5] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:16:30,668 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-5] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:16:30,675 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [insertRequest][to DB] Result ID: 5eba3f3e226bfb2e63f3b7a6
2020-05-12 13:16:30,676 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:31,682 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:32,686 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:33,691 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:34,696 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:35,701 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:36,703 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:37,707 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:38,713 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:39,720 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:40,729 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:41,731 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:42,736 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:43,742 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:44,746 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:45,751 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:46,753 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:47,758 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:48,762 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:49,770 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:50,776 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:51,782 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:52,788 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:53,790 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:54,796 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:55,803 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:56,811 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:57,814 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:58,820 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:16:59,824 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:17:00,826 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] starting to select result of the request [5eba3f3e226bfb2e63f3b7a6] from db
2020-05-12 13:17:00,828 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-5] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:17:00,832 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> {
2020-05-12 13:17:00,832 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:17:00,833 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:17:00,834 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|> }
2020-05-12 13:17:00,834 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|< 200 OK
2020-05-12 13:17:00,834 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|<
2020-05-12 13:17:00,834 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-5] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:19:52,488 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:19:52,489 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:19:52,489 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> content-type: application/json
2020-05-12 13:19:52,490 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:19:52,490 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> accept: */*
2020-05-12 13:19:52,490 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:19:52,490 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> postman-token: 2bac607b-a2d2-4b88-b110-ad8e3ad2e1c2
2020-05-12 13:19:52,490 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:19:52,491 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:19:52,491 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> connection: keep-alive
2020-05-12 13:19:52,491 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> content-length: 239
2020-05-12 13:19:52,491 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|>
2020-05-12 13:19:52,492 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:19:52,492 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] Ip Adress '127.0.0.1' is valid
2020-05-12 13:19:52,492 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:19:52,492 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:19:52,492 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] Looking for the header start with 'PGW'
2020-05-12 13:19:52,495 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] checking authentication for user 'pgw_fptplay'
2020-05-12 13:19:52,495 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] security context was null, so authorizating user
2020-05-12 13:19:52,495 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-7] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:19:52,495 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-7] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:19:52,500 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:19:52,501 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-7] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:19:52,503 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-7] Service from the request is 'otp_confirm'
2020-05-12 13:19:52,503 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-7] [doOTPConfirm] doing otp confirm...
2020-05-12 13:19:52,504 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyParameter] Starting to check request: 1234
2020-05-12 13:19:52,505 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyParameter] Result: true
2020-05-12 13:19:52,505 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:19:52,506 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyRequestCredentials] Result: true
2020-05-12 13:19:52,507 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-7] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:19:52,507 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-7] msgKeyword = null
2020-05-12 13:19:52,508 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-7] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:19:52,508 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-7] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:19:52,521 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [insertRequest][to DB] Result ID: 5eba4008226bfb2e63f3b7a8
2020-05-12 13:19:52,521 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:19:53,558 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:19:54,564 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:19:55,573 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:19:56,579 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:19:57,588 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:19:58,591 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:19:59,594 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:00,653 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:01,696 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:02,701 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:03,709 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:04,726 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:05,742 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:06,748 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:07,750 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:08,756 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:09,841 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:10,849 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:11,851 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:12,858 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:13,865 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:14,871 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:15,878 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:16,883 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:17,888 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:18,896 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:19,900 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:20,902 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:21,909 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:22,913 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4008226bfb2e63f3b7a8] from db
2020-05-12 13:20:22,917 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:20:22,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> {
2020-05-12 13:20:22,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:20:22,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:20:22,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:20:22,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:20:22,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:20:22,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:20:22,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:20:22,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:20:22,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:20:22,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:20:22,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> }
2020-05-12 13:20:22,921 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|< 200 OK
2020-05-12 13:20:22,921 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|<
2020-05-12 13:20:22,921 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:22:45,730 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] Routing file updated
2020-05-12 13:22:45,785 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] New routes created.
2020-05-12 13:22:53,914 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:22:53,915 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:22:53,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 13:22:53,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:22:53,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 13:22:53,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:22:53,917 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: 5ef2558a-3cde-428e-97fa-1ed684203833
2020-05-12 13:22:53,917 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:22:53,917 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:22:53,917 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 13:22:53,917 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 13:22:53,918 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 13:22:53,918 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:22:53,918 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 13:22:53,918 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:22:53,919 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:22:53,919 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 13:22:54,149 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 13:22:54,149 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 13:22:54,150 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:22:54,150 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:22:54,244 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:22:54,323 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:22:54,343 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 13:22:54,385 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 13:22:54,390 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 13:22:54,391 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 13:22:54,392 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:22:54,393 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 13:22:54,396 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:22:54,397 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 13:22:54,398 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:22:54,551 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:22:54,585 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [insertRequest][to DB] Result ID: 5eba40be226bfb3d4bae5a3d
2020-05-12 13:22:54,585 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:22:55,614 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:22:56,622 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:22:57,631 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:22:58,637 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:22:59,643 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:00,651 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:01,657 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:02,665 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:03,673 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:04,682 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:05,693 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:06,699 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:07,703 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:08,709 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:09,722 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:10,757 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:11,765 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:12,771 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:13,778 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:14,786 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:15,792 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:16,795 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:17,801 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:18,809 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:19,818 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:20,826 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:21,831 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:22,840 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:23,852 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:24,859 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba40be226bfb3d4bae5a3d] from db
2020-05-12 13:23:24,863 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:23:24,893 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 13:23:24,894 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:23:24,894 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:23:24,895 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:23:24,895 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:23:24,895 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:23:24,895 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:23:24,895 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:23:24,895 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:23:24,896 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:23:24,896 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:23:24,896 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 13:23:24,896 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 13:23:24,897 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 13:23:24,897 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:28:01,046 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] Routing file updated
2020-05-12 13:28:01,070 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] New routes created.
2020-05-12 13:28:38,517 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:28:38,518 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:28:38,518 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 13:28:38,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:28:38,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 13:28:38,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:28:38,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: 09b9ffcc-6a7a-4631-a20c-de1599fb2fd2
2020-05-12 13:28:38,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:28:38,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:28:38,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 13:28:38,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 13:28:38,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 13:28:38,521 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:28:38,521 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 13:28:38,521 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:28:38,521 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:28:38,521 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 13:28:38,585 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 13:28:38,585 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 13:28:38,585 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:28:38,585 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:28:38,597 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:28:38,686 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:28:38,722 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 13:28:38,800 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 13:28:38,807 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 13:28:38,812 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 13:28:38,816 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:28:38,817 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 13:28:38,819 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:28:38,820 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 13:28:38,820 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:28:38,919 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:28:38,970 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [insertRequest][to DB] Result ID: 5eba4216226bfb43964b57b4
2020-05-12 13:28:38,970 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:40,065 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:41,073 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:42,078 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:43,081 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:44,083 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:45,086 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:46,092 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:47,105 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:48,112 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:49,119 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:50,123 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:51,127 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:52,132 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:53,137 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:54,143 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:55,151 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:56,160 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:57,167 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:58,174 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:28:59,180 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:00,190 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:01,197 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:02,224 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:03,235 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:04,275 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:05,278 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:06,288 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:07,314 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:08,320 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:09,328 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4216226bfb43964b57b4] from db
2020-05-12 13:29:09,332 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:29:09,352 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 13:29:09,352 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:29:09,352 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:29:09,353 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:29:09,353 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:29:09,353 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:29:09,353 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:29:09,353 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:29:09,353 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:29:09,354 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:29:09,354 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:29:09,354 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 13:29:09,354 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 13:29:09,354 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 13:29:09,355 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:29:32,265 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-6-thread-1] Routing file updated
2020-05-12 13:29:32,279 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-6-thread-1] New routes created.
2020-05-12 13:32:44,337 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:32:44,339 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:32:44,339 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 13:32:44,339 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:32:44,340 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 13:32:44,340 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:32:44,340 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: 9f59c567-24be-469e-a171-7a26edf24d3b
2020-05-12 13:32:44,340 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:32:44,340 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:32:44,340 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 13:32:44,341 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 13:32:44,341 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 13:32:44,341 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:32:44,341 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 13:32:44,341 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:32:44,342 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:32:44,342 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 13:32:44,344 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 13:32:44,344 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 13:32:44,345 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:32:44,345 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:32:44,349 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:32:44,351 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:32:44,361 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 13:32:44,366 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 13:32:44,373 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 13:32:44,374 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 13:32:44,375 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:32:44,375 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 13:32:44,376 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:32:44,378 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 13:32:44,378 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:32:44,385 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:32:44,427 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [insertRequest][to DB] Result ID: 5eba430c226bfb43964b57b7
2020-05-12 13:32:44,428 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba430c226bfb43964b57b7] from db
2020-05-12 13:32:45,683 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba430c226bfb43964b57b7] from db
2020-05-12 13:32:46,688 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba430c226bfb43964b57b7] from db
2020-05-12 13:32:47,697 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba430c226bfb43964b57b7] from db
2020-05-12 13:32:47,699 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:32:47,704 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 13:32:47,704 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:32:47,704 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:32:47,704 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:32:47,705 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:32:47,705 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:32:47,705 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:32:47,705 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:32:47,705 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:32:47,706 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:32:47,706 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:32:47,706 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 13:32:47,706 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 13:32:47,707 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 13:32:47,708 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:37:03,614 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:37:03,614 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:37:03,614 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> content-type: application/json
2020-05-12 13:37:03,614 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:37:03,615 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> accept: */*
2020-05-12 13:37:03,615 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:37:03,615 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> postman-token: f32860bc-ab29-4644-a05c-c702f22f33ca
2020-05-12 13:37:03,615 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:37:03,615 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:37:03,615 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> connection: keep-alive
2020-05-12 13:37:03,615 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> content-length: 239
2020-05-12 13:37:03,615 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|>
2020-05-12 13:37:03,615 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:37:03,616 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] Ip Adress '127.0.0.1' is valid
2020-05-12 13:37:03,616 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:37:03,616 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:37:03,616 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] Looking for the header start with 'PGW'
2020-05-12 13:37:03,618 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] checking authentication for user 'pgw_fptplay'
2020-05-12 13:37:03,618 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] security context was null, so authorizating user
2020-05-12 13:37:03,618 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-3] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:37:03,618 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-3] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:37:03,621 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:37:03,622 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-3] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:37:03,623 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-3] Service from the request is 'otp_confirm'
2020-05-12 13:37:03,624 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-3] [doOTPConfirm] doing otp confirm...
2020-05-12 13:37:03,624 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [verifyParameter] Starting to check request: 1234
2020-05-12 13:37:03,625 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [verifyParameter] Result: true
2020-05-12 13:37:03,625 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:37:03,625 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [verifyRequestCredentials] Result: true
2020-05-12 13:37:03,626 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-3] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:37:03,626 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-3] msgKeyword = null
2020-05-12 13:37:03,626 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-3] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:37:03,627 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-3] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:37:03,632 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [insertRequest][to DB] Result ID: 5eba440f226bfb43964b57b9
2020-05-12 13:37:03,632 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba440f226bfb43964b57b9] from db
2020-05-12 13:37:04,638 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba440f226bfb43964b57b9] from db
2020-05-12 13:37:05,646 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba440f226bfb43964b57b9] from db
2020-05-12 13:37:06,654 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba440f226bfb43964b57b9] from db
2020-05-12 13:37:06,656 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:37:06,659 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> {
2020-05-12 13:37:06,659 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:37:06,660 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:37:06,660 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:37:06,660 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:37:06,660 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:37:06,660 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:37:06,660 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:37:06,660 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:37:06,661 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:37:06,661 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:37:06,661 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> }
2020-05-12 13:37:06,661 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|< 200 OK
2020-05-12 13:37:06,661 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|<
2020-05-12 13:37:06,661 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:37:12,917 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:37:12,918 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:37:12,918 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> content-type: application/json
2020-05-12 13:37:12,918 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:37:12,918 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> accept: */*
2020-05-12 13:37:12,918 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:37:12,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> postman-token: d8d38443-d016-4053-9c4e-440328ccfda3
2020-05-12 13:37:12,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:37:12,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:37:12,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> connection: keep-alive
2020-05-12 13:37:12,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> content-length: 239
2020-05-12 13:37:12,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|>
2020-05-12 13:37:12,920 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:37:12,920 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] Ip Adress '127.0.0.1' is valid
2020-05-12 13:37:12,920 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:37:12,921 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:37:12,921 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] Looking for the header start with 'PGW'
2020-05-12 13:37:12,922 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] checking authentication for user 'pgw_fptplay'
2020-05-12 13:37:12,923 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] security context was null, so authorizating user
2020-05-12 13:37:12,923 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-4] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:37:12,923 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-4] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:37:12,930 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:37:12,932 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-4] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:37:12,934 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-4] Service from the request is 'otp_confirm'
2020-05-12 13:37:12,934 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-4] [doOTPConfirm] doing otp confirm...
2020-05-12 13:37:12,935 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyParameter] Starting to check request: 1234
2020-05-12 13:37:12,935 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyParameter] Result: true
2020-05-12 13:37:12,935 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:37:12,935 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyRequestCredentials] Result: true
2020-05-12 13:37:12,936 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-4] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:37:12,936 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-4] msgKeyword = null
2020-05-12 13:37:12,936 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-4] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:37:12,937 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-4] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:37:12,944 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [insertRequest][to DB] Result ID: 5eba4418226bfb43964b57bb
2020-05-12 13:37:12,945 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba4418226bfb43964b57bb] from db
2020-05-12 13:37:13,950 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba4418226bfb43964b57bb] from db
2020-05-12 13:37:14,957 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba4418226bfb43964b57bb] from db
2020-05-12 13:37:15,963 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba4418226bfb43964b57bb] from db
2020-05-12 13:37:15,965 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:37:15,967 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> {
2020-05-12 13:37:15,967 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:37:15,967 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:37:15,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:37:15,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:37:15,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:37:15,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:37:15,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:37:15,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:37:15,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:37:15,968 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:37:15,969 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> }
2020-05-12 13:37:15,969 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|< 200 OK
2020-05-12 13:37:15,969 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|<
2020-05-12 13:37:15,969 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:41:59,134 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:41:59,136 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:41:59,136 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> content-type: application/json
2020-05-12 13:41:59,137 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:41:59,137 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> accept: */*
2020-05-12 13:41:59,137 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:41:59,138 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> postman-token: 4e74e442-5afc-4342-9172-58d8c21313b8
2020-05-12 13:41:59,138 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:41:59,138 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:41:59,138 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> connection: keep-alive
2020-05-12 13:41:59,139 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> content-length: 239
2020-05-12 13:41:59,139 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|>
2020-05-12 13:41:59,139 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:41:59,139 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] Ip Adress '127.0.0.1' is valid
2020-05-12 13:41:59,140 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:41:59,140 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:41:59,141 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] Looking for the header start with 'PGW'
2020-05-12 13:41:59,143 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] checking authentication for user 'pgw_fptplay'
2020-05-12 13:41:59,144 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] security context was null, so authorizating user
2020-05-12 13:41:59,144 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-6] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:41:59,144 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-6] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:41:59,148 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:41:59,150 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-6] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:41:59,168 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-6] Service from the request is 'otp_confirm'
2020-05-12 13:41:59,169 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-6] [doOTPConfirm] doing otp confirm...
2020-05-12 13:41:59,170 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyParameter] Starting to check request: 1234
2020-05-12 13:41:59,170 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyParameter] Result: true
2020-05-12 13:41:59,171 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:41:59,171 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyRequestCredentials] Result: true
2020-05-12 13:41:59,172 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-6] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:41:59,172 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-6] msgKeyword = null
2020-05-12 13:41:59,173 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-6] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:41:59,174 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-6] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:41:59,176 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [insertRequest][to DB] Result ID: 5eba4537226bfb43964b57bd
2020-05-12 13:41:59,177 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba4537226bfb43964b57bd] from db
2020-05-12 13:42:00,182 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba4537226bfb43964b57bd] from db
2020-05-12 13:42:01,187 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba4537226bfb43964b57bd] from db
2020-05-12 13:42:02,221 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba4537226bfb43964b57bd] from db
2020-05-12 13:42:02,224 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:42:02,226 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> {
2020-05-12 13:42:02,227 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:42:02,227 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:42:02,227 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:42:02,227 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:42:02,228 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:42:02,228 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:42:02,228 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:42:02,228 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:42:02,228 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:42:02,228 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:42:02,229 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> }
2020-05-12 13:42:02,229 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|< 200 OK
2020-05-12 13:42:02,229 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|<
2020-05-12 13:42:02,230 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 13:42:08,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> POST /payment/apigw
2020-05-12 13:42:08,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 13:42:08,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> content-type: application/json
2020-05-12 13:42:08,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 13:42:08,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> accept: */*
2020-05-12 13:42:08,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> cache-control: no-cache
2020-05-12 13:42:08,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> postman-token: 6b1556b6-00a3-46b3-b1ab-e9e8eef08cba
2020-05-12 13:42:08,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 13:42:08,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 13:42:08,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> connection: keep-alive
2020-05-12 13:42:08,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> content-length: 239
2020-05-12 13:42:08,522 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|>
2020-05-12 13:42:08,522 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 13:42:08,523 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] Ip Adress '127.0.0.1' is valid
2020-05-12 13:42:08,523 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 13:42:08,523 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 13:42:08,523 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] Looking for the header start with 'PGW'
2020-05-12 13:42:08,525 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] checking authentication for user 'pgw_fptplay'
2020-05-12 13:42:08,525 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] security context was null, so authorizating user
2020-05-12 13:42:08,525 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-7] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 13:42:08,525 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-7] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 13:42:08,529 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] authorizated user 'pgw_fptplay', setting security context
2020-05-12 13:42:08,530 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-7] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 13:42:08,533 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-7] Service from the request is 'otp_confirm'
2020-05-12 13:42:08,534 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-7] [doOTPConfirm] doing otp confirm...
2020-05-12 13:42:08,534 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyParameter] Starting to check request: 1234
2020-05-12 13:42:08,534 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyParameter] Result: true
2020-05-12 13:42:08,535 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 13:42:08,535 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyRequestCredentials] Result: true
2020-05-12 13:42:08,535 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-7] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:42:08,535 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-7] msgKeyword = null
2020-05-12 13:42:08,535 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-7] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 13:42:08,536 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-7] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 13:42:08,547 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [insertRequest][to DB] Result ID: 5eba4540226bfb43964b57bf
2020-05-12 13:42:08,548 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4540226bfb43964b57bf] from db
2020-05-12 13:42:09,554 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4540226bfb43964b57bf] from db
2020-05-12 13:42:10,559 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4540226bfb43964b57bf] from db
2020-05-12 13:42:11,567 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba4540226bfb43964b57bf] from db
2020-05-12 13:42:11,569 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 13:42:11,571 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> {
2020-05-12 13:42:11,572 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 13:42:11,572 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 13:42:11,572 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"account": "dz",
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> }
2020-05-12 13:42:11,573 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|< 200 OK
2020-05-12 13:42:11,574 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|<
2020-05-12 13:42:11,574 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 14:16:44,352 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-9-thread-1] Routing file updated
2020-05-12 14:16:44,384 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-9-thread-1] New routes created.
2020-05-12 14:17:02,132 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 14:17:02,134 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 14:17:02,134 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 14:17:02,134 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 14:17:02,134 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 14:17:02,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 14:17:02,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: 9aba6747-7d8e-4f26-a362-25ad47bd9eb5
2020-05-12 14:17:02,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 14:17:02,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 14:17:02,136 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 14:17:02,136 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 14:17:02,136 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 14:17:02,136 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 14:17:02,136 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 14:17:02,136 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 14:17:02,137 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 14:17:02,137 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 14:17:02,138 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 14:17:02,138 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 14:17:02,139 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 14:17:02,139 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 14:17:02,142 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 14:17:02,144 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 14:17:02,148 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 14:17:02,153 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 14:17:02,158 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 14:17:02,158 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 14:17:02,158 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 14:17:02,159 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 14:17:02,159 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:17:02,160 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 14:17:02,160 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 14:17:02,163 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:17:02,173 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [insertRequest][to DB] Result ID: 5eba4d6e226bfb43964b57c2
2020-05-12 14:17:02,173 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4d6e226bfb43964b57c2] from db
2020-05-12 14:17:03,180 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4d6e226bfb43964b57c2] from db
2020-05-12 14:17:04,191 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4d6e226bfb43964b57c2] from db
2020-05-12 14:17:05,196 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4d6e226bfb43964b57c2] from db
2020-05-12 14:17:05,199 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 14:17:05,203 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 14:17:05,204 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 14:17:05,204 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 14:17:05,204 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 14:17:05,204 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 14:17:05,204 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 14:17:05,204 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 14:17:05,205 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 14:17:05,205 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 14:17:05,205 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 14:17:05,205 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 14:17:05,205 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 14:17:05,205 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 14:17:05,206 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 14:17:05,207 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 14:17:10,335 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> POST /payment/apigw
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> content-type: application/json
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> accept: */*
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> cache-control: no-cache
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> postman-token: 04d1d2fb-3f14-4d7e-94be-9d6def8e440a
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 14:17:10,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> connection: keep-alive
2020-05-12 14:17:10,337 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> content-length: 239
2020-05-12 14:17:10,337 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|>
2020-05-12 14:17:10,337 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 14:17:10,337 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] Ip Adress '127.0.0.1' is valid
2020-05-12 14:17:10,337 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 14:17:10,337 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 14:17:10,337 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] Looking for the header start with 'PGW'
2020-05-12 14:17:10,338 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] checking authentication for user 'pgw_fptplay'
2020-05-12 14:17:10,339 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] security context was null, so authorizating user
2020-05-12 14:17:10,339 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-2] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 14:17:10,339 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-2] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 14:17:10,343 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] authorizated user 'pgw_fptplay', setting security context
2020-05-12 14:17:10,345 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-2] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 14:17:10,346 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-2] Service from the request is 'otp_confirm'
2020-05-12 14:17:10,347 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-2] [doOTPConfirm] doing otp confirm...
2020-05-12 14:17:10,348 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyParameter] Starting to check request: 1234
2020-05-12 14:17:10,349 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyParameter] Result: true
2020-05-12 14:17:10,349 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 14:17:10,349 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyRequestCredentials] Result: true
2020-05-12 14:17:10,350 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-2] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:17:10,350 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-2] msgKeyword = null
2020-05-12 14:17:10,351 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-2] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 14:17:10,352 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-2] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:17:10,354 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [insertRequest][to DB] Result ID: 5eba4d76226bfb43964b57c4
2020-05-12 14:17:10,355 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] starting to select result of the request [5eba4d76226bfb43964b57c4] from db
2020-05-12 14:17:11,364 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] starting to select result of the request [5eba4d76226bfb43964b57c4] from db
2020-05-12 14:17:12,368 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] starting to select result of the request [5eba4d76226bfb43964b57c4] from db
2020-05-12 14:17:13,372 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] starting to select result of the request [5eba4d76226bfb43964b57c4] from db
2020-05-12 14:17:13,375 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 14:17:13,379 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> {
2020-05-12 14:17:13,379 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 14:17:13,380 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 14:17:13,380 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 14:17:13,380 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 14:17:13,380 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 14:17:13,381 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 14:17:13,381 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"account": "dz",
2020-05-12 14:17:13,381 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 14:17:13,382 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 14:17:13,382 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 14:17:13,382 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> }
2020-05-12 14:17:13,382 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|< 200 OK
2020-05-12 14:17:13,382 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|<
2020-05-12 14:17:13,382 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 14:19:11,684 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-12-thread-1] Routing file updated
2020-05-12 14:19:11,706 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-12-thread-1] New routes created.
2020-05-12 14:19:25,241 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 14:19:25,243 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 14:19:25,244 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 14:19:25,244 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 14:19:25,245 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 14:19:25,245 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 14:19:25,245 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: e8f31bca-eba3-4adf-95cc-1b3091f02229
2020-05-12 14:19:25,245 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 14:19:25,245 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 14:19:25,246 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 14:19:25,246 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 14:19:25,246 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 14:19:25,246 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 14:19:25,246 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 14:19:25,247 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 14:19:25,247 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 14:19:25,247 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 14:19:25,250 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 14:19:25,250 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 14:19:25,251 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 14:19:25,251 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 14:19:25,254 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 14:19:25,256 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 14:19:25,262 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 14:19:25,264 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 14:19:25,269 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 14:19:25,269 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 14:19:25,269 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 14:19:25,269 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 14:19:25,270 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:19:25,270 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 14:19:25,270 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 14:19:25,272 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:19:25,280 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [insertRequest][to DB] Result ID: 5eba4dfd226bfb43964b57c7
2020-05-12 14:19:25,280 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4dfd226bfb43964b57c7] from db
2020-05-12 14:19:26,282 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4dfd226bfb43964b57c7] from db
2020-05-12 14:19:27,291 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4dfd226bfb43964b57c7] from db
2020-05-12 14:19:28,299 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba4dfd226bfb43964b57c7] from db
2020-05-12 14:19:28,303 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 14:19:28,307 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 14:19:28,308 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 14:19:28,308 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 14:19:28,308 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 14:19:28,308 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 14:19:28,308 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 14:19:28,308 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 14:19:28,308 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 14:19:28,309 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 14:19:28,309 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 14:19:28,309 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 14:19:28,309 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 14:19:28,309 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 14:19:28,310 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 14:19:28,310 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 14:19:31,919 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> POST /payment/apigw
2020-05-12 14:19:31,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 14:19:31,920 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> content-type: application/json
2020-05-12 14:19:31,921 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 14:19:31,921 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> accept: */*
2020-05-12 14:19:31,921 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> cache-control: no-cache
2020-05-12 14:19:31,922 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> postman-token: b835a16d-bac4-4057-8d49-c4d0706555ce
2020-05-12 14:19:31,922 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 14:19:31,922 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 14:19:31,922 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> connection: keep-alive
2020-05-12 14:19:31,922 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> content-length: 239
2020-05-12 14:19:31,922 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|>
2020-05-12 14:19:31,922 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 14:19:31,923 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] Ip Adress '127.0.0.1' is valid
2020-05-12 14:19:31,923 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 14:19:31,923 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 14:19:31,923 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] Looking for the header start with 'PGW'
2020-05-12 14:19:31,925 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] checking authentication for user 'pgw_fptplay'
2020-05-12 14:19:31,926 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] security context was null, so authorizating user
2020-05-12 14:19:31,926 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-2] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 14:19:31,927 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-2] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 14:19:31,931 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] authorizated user 'pgw_fptplay', setting security context
2020-05-12 14:19:31,933 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-2] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 14:19:31,937 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-2] Service from the request is 'otp_confirm'
2020-05-12 14:19:31,937 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-2] [doOTPConfirm] doing otp confirm...
2020-05-12 14:19:31,938 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyParameter] Starting to check request: 1234
2020-05-12 14:19:31,938 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyParameter] Result: true
2020-05-12 14:19:31,938 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 14:19:31,939 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyRequestCredentials] Result: true
2020-05-12 14:19:31,939 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-2] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:19:31,940 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-2] msgKeyword = null
2020-05-12 14:19:31,940 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-2] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 14:19:31,942 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-2] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:19:31,946 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [insertRequest][to DB] Result ID: 5eba4e03226bfb43964b57c9
2020-05-12 14:19:31,947 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] starting to select result of the request [5eba4e03226bfb43964b57c9] from db
2020-05-12 14:19:32,949 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] starting to select result of the request [5eba4e03226bfb43964b57c9] from db
2020-05-12 14:19:33,958 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] starting to select result of the request [5eba4e03226bfb43964b57c9] from db
2020-05-12 14:19:34,967 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] starting to select result of the request [5eba4e03226bfb43964b57c9] from db
2020-05-12 14:19:34,971 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 14:19:34,974 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> {
2020-05-12 14:19:34,974 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 14:19:34,975 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 14:19:34,975 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 14:19:34,975 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 14:19:34,976 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 14:19:34,976 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 14:19:34,976 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"account": "dz",
2020-05-12 14:19:34,977 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 14:19:34,977 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 14:19:34,977 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 14:19:34,977 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> }
2020-05-12 14:19:34,977 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|< 200 OK
2020-05-12 14:19:34,978 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|<
2020-05-12 14:19:34,978 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 14:20:55,427 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> POST /payment/apigw
2020-05-12 14:20:55,428 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 14:20:55,428 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> content-type: application/json
2020-05-12 14:20:55,428 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 14:20:55,428 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> accept: */*
2020-05-12 14:20:55,429 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> cache-control: no-cache
2020-05-12 14:20:55,429 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> postman-token: 2255b1ec-3572-479f-aeca-ea19f02d472c
2020-05-12 14:20:55,429 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 14:20:55,429 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 14:20:55,430 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> connection: keep-alive
2020-05-12 14:20:55,431 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> content-length: 239
2020-05-12 14:20:55,431 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|>
2020-05-12 14:20:55,431 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 14:20:55,431 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] Ip Adress '127.0.0.1' is valid
2020-05-12 14:20:55,432 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 14:20:55,432 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 14:20:55,432 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] Looking for the header start with 'PGW'
2020-05-12 14:20:55,434 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] checking authentication for user 'pgw_fptplay'
2020-05-12 14:20:55,434 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] security context was null, so authorizating user
2020-05-12 14:20:55,434 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-4] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 14:20:55,434 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-4] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 14:20:55,438 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] authorizated user 'pgw_fptplay', setting security context
2020-05-12 14:20:55,440 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-4] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 14:20:55,442 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-4] Service from the request is 'otp_confirm'
2020-05-12 14:20:55,442 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-4] [doOTPConfirm] doing otp confirm...
2020-05-12 14:20:55,442 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyParameter] Starting to check request: 1234
2020-05-12 14:20:55,442 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyParameter] Result: true
2020-05-12 14:20:55,443 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 14:20:55,443 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyRequestCredentials] Result: true
2020-05-12 14:20:55,443 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-4] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:20:55,443 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-4] msgKeyword = null
2020-05-12 14:20:55,443 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-4] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 14:20:55,444 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-4] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:20:55,445 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [insertRequest][to DB] Result ID: 5eba4e57226bfb43964b57cb
2020-05-12 14:20:55,445 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba4e57226bfb43964b57cb] from db
2020-05-12 14:20:56,447 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba4e57226bfb43964b57cb] from db
2020-05-12 14:20:57,453 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba4e57226bfb43964b57cb] from db
2020-05-12 14:20:58,457 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba4e57226bfb43964b57cb] from db
2020-05-12 14:20:58,461 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 14:20:58,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> {
2020-05-12 14:20:58,465 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 14:20:58,466 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 14:20:58,466 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 14:20:58,467 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 14:20:58,467 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 14:20:58,467 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 14:20:58,467 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"account": "dz",
2020-05-12 14:20:58,467 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 14:20:58,468 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 14:20:58,468 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 14:20:58,468 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> }
2020-05-12 14:20:58,468 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|< 200 OK
2020-05-12 14:20:58,468 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|<
2020-05-12 14:20:58,469 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 14:46:55,694 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> POST /payment/apigw
2020-05-12 14:46:55,694 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 14:46:55,695 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> content-type: application/json
2020-05-12 14:46:55,695 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 14:46:55,695 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> accept: */*
2020-05-12 14:46:55,695 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> cache-control: no-cache
2020-05-12 14:46:55,695 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> postman-token: 99c88987-8ff6-44ad-8bed-eb4664df7a23
2020-05-12 14:46:55,695 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 14:46:55,696 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 14:46:55,696 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> connection: keep-alive
2020-05-12 14:46:55,696 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> content-length: 239
2020-05-12 14:46:55,696 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|>
2020-05-12 14:46:55,696 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 14:46:55,696 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] Ip Adress '127.0.0.1' is valid
2020-05-12 14:46:55,696 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 14:46:55,697 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 14:46:55,697 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] Looking for the header start with 'PGW'
2020-05-12 14:46:55,699 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] checking authentication for user 'pgw_fptplay'
2020-05-12 14:46:55,699 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] security context was null, so authorizating user
2020-05-12 14:46:55,699 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-6] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 14:46:55,700 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-6] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 14:46:55,704 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] authorizated user 'pgw_fptplay', setting security context
2020-05-12 14:46:55,705 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-6] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 14:46:55,726 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-6] Service from the request is 'otp_confirm'
2020-05-12 14:46:55,727 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-6] [doOTPConfirm] doing otp confirm...
2020-05-12 14:46:55,727 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyParameter] Starting to check request: 1234
2020-05-12 14:46:55,728 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyParameter] Result: true
2020-05-12 14:46:55,728 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 14:46:55,728 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyRequestCredentials] Result: true
2020-05-12 14:46:55,729 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-6] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:46:55,729 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-6] msgKeyword = null
2020-05-12 14:46:55,730 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-6] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 14:46:55,730 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-6] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:46:55,733 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [insertRequest][to DB] Result ID: 5eba546f226bfb43964b57cd
2020-05-12 14:46:55,733 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba546f226bfb43964b57cd] from db
2020-05-12 14:46:56,743 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba546f226bfb43964b57cd] from db
2020-05-12 14:46:57,751 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba546f226bfb43964b57cd] from db
2020-05-12 14:46:58,755 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba546f226bfb43964b57cd] from db
2020-05-12 14:46:58,758 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 14:46:58,761 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> {
2020-05-12 14:46:58,762 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 14:46:58,762 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 14:46:58,762 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 14:46:58,763 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 14:46:58,763 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 14:46:58,763 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 14:46:58,763 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"account": "dz",
2020-05-12 14:46:58,764 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 14:46:58,764 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 14:46:58,764 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 14:46:58,764 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> }
2020-05-12 14:46:58,765 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|< 200 OK
2020-05-12 14:46:58,765 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|<
2020-05-12 14:46:58,765 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 14:47:00,469 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> POST /payment/apigw
2020-05-12 14:47:00,469 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 14:47:00,470 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> content-type: application/json
2020-05-12 14:47:00,471 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 14:47:00,471 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> accept: */*
2020-05-12 14:47:00,472 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> cache-control: no-cache
2020-05-12 14:47:00,472 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> postman-token: e8b9f962-2fb1-4220-984f-e0935ac80008
2020-05-12 14:47:00,472 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 14:47:00,472 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 14:47:00,472 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> connection: keep-alive
2020-05-12 14:47:00,473 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> content-length: 239
2020-05-12 14:47:00,473 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|>
2020-05-12 14:47:00,473 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 14:47:00,473 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] Ip Adress '127.0.0.1' is valid
2020-05-12 14:47:00,473 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 14:47:00,473 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 14:47:00,473 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] Looking for the header start with 'PGW'
2020-05-12 14:47:00,475 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] checking authentication for user 'pgw_fptplay'
2020-05-12 14:47:00,475 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] security context was null, so authorizating user
2020-05-12 14:47:00,475 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-7] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 14:47:00,476 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-7] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 14:47:00,485 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] authorizated user 'pgw_fptplay', setting security context
2020-05-12 14:47:00,487 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-7] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 14:47:00,489 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-7] Service from the request is 'otp_confirm'
2020-05-12 14:47:00,490 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-7] [doOTPConfirm] doing otp confirm...
2020-05-12 14:47:00,490 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyParameter] Starting to check request: 1234
2020-05-12 14:47:00,490 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyParameter] Result: true
2020-05-12 14:47:00,491 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 14:47:00,491 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyRequestCredentials] Result: true
2020-05-12 14:47:00,491 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-7] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:47:00,492 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-7] msgKeyword = null
2020-05-12 14:47:00,493 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-7] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 14:47:00,494 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-7] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 14:47:00,495 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [insertRequest][to DB] Result ID: 5eba5474226bfb43964b57cf
2020-05-12 14:47:00,496 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba5474226bfb43964b57cf] from db
2020-05-12 14:47:01,501 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba5474226bfb43964b57cf] from db
2020-05-12 14:47:02,509 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba5474226bfb43964b57cf] from db
2020-05-12 14:47:03,512 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba5474226bfb43964b57cf] from db
2020-05-12 14:47:03,515 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 14:47:03,518 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> {
2020-05-12 14:47:03,518 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 14:47:03,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 14:47:03,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 14:47:03,519 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 14:47:03,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 14:47:03,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 14:47:03,520 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"account": "dz",
2020-05-12 14:47:03,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 14:47:03,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 14:47:03,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 14:47:03,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> }
2020-05-12 14:47:03,521 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|< 200 OK
2020-05-12 14:47:03,522 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|<
2020-05-12 14:47:03,522 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:01:42,349 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-15-thread-1] Routing file updated
2020-05-12 15:01:42,385 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-15-thread-1] New routes created.
2020-05-12 15:03:17,913 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:03:17,915 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:03:17,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 15:03:17,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:03:17,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 15:03:17,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:03:17,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: 763a093e-739d-49bf-aa1e-a16fb7008c67
2020-05-12 15:03:17,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:03:17,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:03:17,916 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 15:03:17,917 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 15:03:17,917 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 15:03:17,917 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:03:17,917 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 15:03:17,917 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:03:17,917 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:03:17,918 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 15:03:17,920 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 15:03:17,921 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 15:03:17,921 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:03:17,922 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:03:17,925 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:03:17,929 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:03:17,934 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 15:03:17,936 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 15:03:17,939 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 15:03:17,940 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 15:03:17,940 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:03:17,940 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 15:03:17,941 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:03:17,941 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 15:03:17,942 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:03:17,944 ERROR com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [sendObjToQueue] Exception: failed to convert to serialized Message content
2020-05-12 15:03:17,947 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 15:03:17,947 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:03:17,948 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:03:17,949 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 15:03:17,949 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 15:03:17,949 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 15:03:17,949 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:04:03,342 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] Routing file updated
2020-05-12 15:04:03,394 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] New routes created.
2020-05-12 15:04:06,331 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:04:06,333 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:04:06,334 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 15:04:06,334 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:04:06,334 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 15:04:06,334 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:04:06,335 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: a10e1e8d-c964-4ae3-a0a1-627a5667d516
2020-05-12 15:04:06,335 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:04:06,335 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:04:06,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 15:04:06,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 15:04:06,336 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 15:04:06,337 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:04:06,337 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 15:04:06,337 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:04:06,338 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:04:06,338 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 15:04:06,409 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 15:04:06,409 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 15:04:06,409 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:04:06,410 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:04:06,420 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:04:06,485 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:04:06,497 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 15:04:06,573 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 15:04:06,578 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 15:04:06,579 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 15:04:06,579 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:04:06,580 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 15:04:06,591 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:04:06,593 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 15:04:06,593 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:04:06,608 ERROR com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [sendObjToQueue] Exception: failed to convert to serialized Message content
2020-05-12 15:04:06,643 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 15:04:06,644 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:04:06,645 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:04:06,645 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:04:06,645 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:04:06,645 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:04:06,645 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:04:06,646 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:04:06,646 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:04:06,646 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:04:06,646 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:04:06,646 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 15:04:06,646 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 15:04:06,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 15:04:06,647 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:04:16,779 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:04:16,780 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:04:16,781 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> content-type: application/json
2020-05-12 15:04:16,781 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:04:16,781 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> accept: */*
2020-05-12 15:04:16,781 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:04:16,781 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> postman-token: 27b95838-8757-4c33-9cf7-fc68da56af48
2020-05-12 15:04:16,781 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:04:16,782 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:04:16,782 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> connection: keep-alive
2020-05-12 15:04:16,782 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> content-length: 239
2020-05-12 15:04:16,782 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|>
2020-05-12 15:04:16,783 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:04:16,783 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] Ip Adress '127.0.0.1' is valid
2020-05-12 15:04:16,783 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:04:16,784 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:04:16,784 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] Looking for the header start with 'PGW'
2020-05-12 15:04:16,788 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] checking authentication for user 'pgw_fptplay'
2020-05-12 15:04:16,788 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] security context was null, so authorizating user
2020-05-12 15:04:16,788 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-2] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:04:16,789 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-2] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:04:16,794 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-2] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:04:16,797 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-2] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:04:16,798 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-2] Service from the request is 'otp_confirm'
2020-05-12 15:04:16,799 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-2] [doOTPConfirm] doing otp confirm...
2020-05-12 15:04:16,800 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyParameter] Starting to check request: 1234
2020-05-12 15:04:16,800 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyParameter] Result: true
2020-05-12 15:04:16,801 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:04:16,801 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [verifyRequestCredentials] Result: true
2020-05-12 15:04:16,802 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-2] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:04:16,802 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-2] msgKeyword = null
2020-05-12 15:04:16,803 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-2] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:04:16,804 ERROR com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-2] [sendObjToQueue] Exception: failed to convert to serialized Message content
2020-05-12 15:04:16,806 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> {
2020-05-12 15:04:16,807 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:04:16,807 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:04:16,808 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:04:16,808 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:04:16,808 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:04:16,808 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:04:16,809 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:04:16,809 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:04:16,809 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:04:16,809 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:04:16,809 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|> }
2020-05-12 15:04:16,810 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|< 200 OK
2020-05-12 15:04:16,810 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|<
2020-05-12 15:04:16,811 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-2] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:09:59,403 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-6-thread-1] Routing file updated
2020-05-12 15:09:59,451 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-6-thread-1] New routes created.
2020-05-12 15:10:17,635 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:10:17,637 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:10:17,638 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 15:10:17,638 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:10:17,639 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 15:10:17,639 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:10:17,639 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: 862e5e7c-2a33-479d-8abc-6b7679b93837
2020-05-12 15:10:17,641 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:10:17,641 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:10:17,641 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 15:10:17,641 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 15:10:17,642 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 15:10:17,642 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:10:17,642 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 15:10:17,643 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:10:17,643 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:10:17,643 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 15:10:17,645 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 15:10:17,645 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 15:10:17,645 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:10:17,646 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:10:17,650 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:10:17,652 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:10:17,660 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 15:10:17,662 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 15:10:17,665 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 15:10:17,665 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 15:10:17,666 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:10:17,666 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 15:10:17,666 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:10:17,667 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 15:10:17,667 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:10:17,668 ERROR com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [sendObjToQueue] Exception: failed to convert to serialized Message content
2020-05-12 15:10:17,673 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 15:10:17,674 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:10:17,674 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:10:17,674 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:10:17,674 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:10:17,675 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:10:17,675 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:10:17,675 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:10:17,675 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:10:17,675 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:10:17,675 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:10:17,676 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 15:10:17,676 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 15:10:17,676 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 15:10:17,677 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:10:33,940 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-9-thread-1] Routing file updated
2020-05-12 15:10:33,963 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-9-thread-1] New routes created.
2020-05-12 15:10:38,729 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:10:38,730 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:10:38,730 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-type: application/json
2020-05-12 15:10:38,730 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:10:38,730 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept: */*
2020-05-12 15:10:38,731 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:10:38,731 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> postman-token: 081bad7a-4f4e-4bb1-b692-4b631fe80cb6
2020-05-12 15:10:38,731 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:10:38,731 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:10:38,731 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> connection: keep-alive
2020-05-12 15:10:38,731 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> content-length: 239
2020-05-12 15:10:38,731 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|>
2020-05-12 15:10:38,731 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:10:38,731 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] Ip Adress '127.0.0.1' is valid
2020-05-12 15:10:38,732 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:10:38,732 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:10:38,732 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] Looking for the header start with 'PGW'
2020-05-12 15:10:38,735 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] checking authentication for user 'pgw_fptplay'
2020-05-12 15:10:38,735 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] security context was null, so authorizating user
2020-05-12 15:10:38,735 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:10:38,736 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-1] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:10:38,742 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-1] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:10:38,745 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-1] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:10:38,749 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] Service from the request is 'otp_confirm'
2020-05-12 15:10:38,751 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-1] [doOTPConfirm] doing otp confirm...
2020-05-12 15:10:38,755 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Starting to check request: 1234
2020-05-12 15:10:38,756 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyParameter] Result: true
2020-05-12 15:10:38,756 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:10:38,756 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [verifyRequestCredentials] Result: true
2020-05-12 15:10:38,757 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:10:38,758 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] msgKeyword = null
2020-05-12 15:10:38,758 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-1] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:10:38,771 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:10:38,810 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [insertRequest][to DB] Result ID: 5eba59fe226bfb7941682ff4
2020-05-12 15:10:38,811 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba59fe226bfb7941682ff4] from db
2020-05-12 15:10:39,879 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba59fe226bfb7941682ff4] from db
2020-05-12 15:10:40,884 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba59fe226bfb7941682ff4] from db
2020-05-12 15:10:41,890 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] starting to select result of the request [5eba59fe226bfb7941682ff4] from db
2020-05-12 15:10:41,895 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-1] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 15:10:41,898 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> {
2020-05-12 15:10:41,898 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:10:41,898 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:10:41,898 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:10:41,898 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:10:41,898 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:10:41,899 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:10:41,899 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:10:41,899 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:10:41,899 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:10:41,899 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:10:41,899 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|> }
2020-05-12 15:10:41,899 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< 200 OK
2020-05-12 15:10:41,900 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|<
2020-05-12 15:10:41,900 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-1] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:11:34,394 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:11:34,394 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:11:34,394 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> content-type: application/json
2020-05-12 15:11:34,395 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:11:34,395 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> accept: */*
2020-05-12 15:11:34,396 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:11:34,396 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> postman-token: 9aac0e51-2e4a-4a81-a6b5-de9f9faf072e
2020-05-12 15:11:34,396 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:11:34,397 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:11:34,398 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> connection: keep-alive
2020-05-12 15:11:34,398 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> content-length: 239
2020-05-12 15:11:34,398 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|>
2020-05-12 15:11:34,399 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:11:34,399 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] Ip Adress '127.0.0.1' is valid
2020-05-12 15:11:34,399 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:11:34,399 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:11:34,400 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] Looking for the header start with 'PGW'
2020-05-12 15:11:34,401 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] checking authentication for user 'pgw_fptplay'
2020-05-12 15:11:34,402 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] security context was null, so authorizating user
2020-05-12 15:11:34,402 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-3] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:11:34,402 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-3] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:11:34,406 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-3] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:11:34,408 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-3] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:11:34,409 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-3] Service from the request is 'otp_confirm'
2020-05-12 15:11:34,409 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-3] [doOTPConfirm] doing otp confirm...
2020-05-12 15:11:34,410 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [verifyParameter] Starting to check request: 1234
2020-05-12 15:11:34,410 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [verifyParameter] Result: true
2020-05-12 15:11:34,410 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:11:34,410 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [verifyRequestCredentials] Result: true
2020-05-12 15:11:34,410 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-3] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:11:34,411 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-3] msgKeyword = null
2020-05-12 15:11:34,411 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-3] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:11:34,412 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-3] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:11:34,413 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [insertRequest][to DB] Result ID: 5eba5a36226bfb7941682ff6
2020-05-12 15:11:34,414 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba5a36226bfb7941682ff6] from db
2020-05-12 15:11:35,443 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba5a36226bfb7941682ff6] from db
2020-05-12 15:11:36,450 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba5a36226bfb7941682ff6] from db
2020-05-12 15:11:37,458 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] starting to select result of the request [5eba5a36226bfb7941682ff6] from db
2020-05-12 15:11:37,461 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-3] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 15:11:37,463 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> {
2020-05-12 15:11:37,463 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:11:37,463 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:11:37,463 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:11:37,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:11:37,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:11:37,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:11:37,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:11:37,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:11:37,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:11:37,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:11:37,464 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|> }
2020-05-12 15:11:37,465 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|< 200 OK
2020-05-12 15:11:37,465 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|<
2020-05-12 15:11:37,465 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-3] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:11:50,091 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:11:50,092 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:11:50,092 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> content-type: application/json
2020-05-12 15:11:50,092 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:11:50,092 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> accept: */*
2020-05-12 15:11:50,092 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:11:50,093 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> postman-token: a2287e76-14fe-46ce-9814-988744d9be16
2020-05-12 15:11:50,093 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:11:50,093 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:11:50,093 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> connection: keep-alive
2020-05-12 15:11:50,093 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> content-length: 239
2020-05-12 15:11:50,093 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|>
2020-05-12 15:11:50,093 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:11:50,093 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] Ip Adress '127.0.0.1' is valid
2020-05-12 15:11:50,094 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:11:50,094 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:11:50,094 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] Looking for the header start with 'PGW'
2020-05-12 15:11:50,095 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] checking authentication for user 'pgw_fptplay'
2020-05-12 15:11:50,095 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] security context was null, so authorizating user
2020-05-12 15:11:50,095 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-4] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:11:50,095 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-4] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:11:50,098 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-4] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:11:50,100 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-4] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:11:50,102 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-4] Service from the request is 'otp_confirm'
2020-05-12 15:11:50,102 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-4] [doOTPConfirm] doing otp confirm...
2020-05-12 15:11:50,102 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyParameter] Starting to check request: 1234
2020-05-12 15:11:50,103 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyParameter] Result: true
2020-05-12 15:11:50,103 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:11:50,103 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [verifyRequestCredentials] Result: true
2020-05-12 15:11:50,104 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-4] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:11:50,104 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-4] msgKeyword = null
2020-05-12 15:11:50,104 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-4] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:11:50,105 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-4] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:11:50,106 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [insertRequest][to DB] Result ID: 5eba5a46226bfb7941682ff8
2020-05-12 15:11:50,106 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba5a46226bfb7941682ff8] from db
2020-05-12 15:11:51,108 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba5a46226bfb7941682ff8] from db
2020-05-12 15:11:52,116 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba5a46226bfb7941682ff8] from db
2020-05-12 15:11:53,124 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] starting to select result of the request [5eba5a46226bfb7941682ff8] from db
2020-05-12 15:11:53,129 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-4] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 15:11:53,132 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> {
2020-05-12 15:11:53,133 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:11:53,134 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:11:53,134 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:11:53,134 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|> }
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|< 200 OK
2020-05-12 15:11:53,135 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|<
2020-05-12 15:11:53,136 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-4] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:13:29,885 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:13:29,886 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:13:29,886 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> content-type: application/json
2020-05-12 15:13:29,886 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:13:29,886 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> accept: */*
2020-05-12 15:13:29,887 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:13:29,887 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> postman-token: 371a420c-b2a1-4925-a414-4d80deb477eb
2020-05-12 15:13:29,887 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:13:29,887 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:13:29,887 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> connection: keep-alive
2020-05-12 15:13:29,888 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> content-length: 239
2020-05-12 15:13:29,888 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|>
2020-05-12 15:13:29,888 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:13:29,888 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] Ip Adress '127.0.0.1' is valid
2020-05-12 15:13:29,888 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:13:29,888 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:13:29,889 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] Looking for the header start with 'PGW'
2020-05-12 15:13:29,890 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] checking authentication for user 'pgw_fptplay'
2020-05-12 15:13:29,890 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] security context was null, so authorizating user
2020-05-12 15:13:29,890 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-6] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:13:29,890 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-6] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:13:29,892 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-6] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:13:29,895 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-6] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:13:29,897 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-6] Service from the request is 'otp_confirm'
2020-05-12 15:13:29,898 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-6] [doOTPConfirm] doing otp confirm...
2020-05-12 15:13:29,899 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyParameter] Starting to check request: 1234
2020-05-12 15:13:29,899 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyParameter] Result: true
2020-05-12 15:13:29,900 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:13:29,900 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [verifyRequestCredentials] Result: true
2020-05-12 15:13:29,901 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-6] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:13:29,901 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-6] msgKeyword = null
2020-05-12 15:13:29,902 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-6] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:13:29,902 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-6] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:13:29,918 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [insertRequest][to DB] Result ID: 5eba5aa9226bfb7941682ffa
2020-05-12 15:13:29,919 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba5aa9226bfb7941682ffa] from db
2020-05-12 15:13:30,927 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba5aa9226bfb7941682ffa] from db
2020-05-12 15:13:31,935 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba5aa9226bfb7941682ffa] from db
2020-05-12 15:13:32,947 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] starting to select result of the request [5eba5aa9226bfb7941682ffa] from db
2020-05-12 15:13:32,955 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-6] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 15:13:32,957 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> {
2020-05-12 15:13:32,957 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:13:32,957 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:13:32,957 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:13:32,958 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:13:32,958 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:13:32,958 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:13:32,958 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:13:32,958 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:13:32,958 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:13:32,958 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:13:32,958 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|> }
2020-05-12 15:13:32,959 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|< 200 OK
2020-05-12 15:13:32,959 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|<
2020-05-12 15:13:32,961 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-6] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
2020-05-12 15:13:39,808 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> POST /payment/apigw
2020-05-12 15:13:39,808 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> authorization: PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww
2020-05-12 15:13:39,808 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> content-type: application/json
2020-05-12 15:13:39,809 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> user-agent: PostmanRuntime/7.24.1
2020-05-12 15:13:39,809 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> accept: */*
2020-05-12 15:13:39,810 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> cache-control: no-cache
2020-05-12 15:13:39,810 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> postman-token: d6724a6d-16d3-4d30-899b-5155ecbd7816
2020-05-12 15:13:39,810 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> host: 127.0.0.1:8881
2020-05-12 15:13:39,810 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> accept-encoding: gzip, deflate, br
2020-05-12 15:13:39,810 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> connection: keep-alive
2020-05-12 15:13:39,810 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> content-length: 239
2020-05-12 15:13:39,811 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|>
2020-05-12 15:13:39,811 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] Checking Remote Ip Adress '127.0.0.1' for the request
2020-05-12 15:13:39,811 TRACE com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] Ip Adress '127.0.0.1' is valid
2020-05-12 15:13:39,811 TRACE com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] Processing authentication for 'http://127.0.0.1:8881/payment/apigw' ...
2020-05-12 15:13:39,812 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] The request header is 'PGW eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwZ3dfZnB0cGxheSIsImV4cCI6MTU4OTQ0Mjk5OCwiaWF0IjoxNTg4NTc4OTk4fQ.q3Hd9znZtRLW0_I2mB5e5YrAhBp7FVaFdAD3dVmM2Lytc16iMuMoczipgiYKkYjtFkB8sC9IG8S_JUmBk6uAww'
2020-05-12 15:13:39,812 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] Looking for the header start with 'PGW'
2020-05-12 15:13:39,814 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] checking authentication for user 'pgw_fptplay'
2020-05-12 15:13:39,814 DEBUG com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] security context was null, so authorizating user
2020-05-12 15:13:39,814 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-7] [JwtUserDetailsService] load info of user 'pgw_fptplay'
2020-05-12 15:13:39,814 INFO com.dz.apigw.security.JwtUserDetailsService [http-nio-8881-exec-7] [loadUserByUsername] Found user with username 'pgw_fptplay'
2020-05-12 15:13:39,817 INFO com.dz.apigw.security.JwtAuthorizationTokenFilter [http-nio-8881-exec-7] authorizated user 'pgw_fptplay', setting security context
2020-05-12 15:13:39,819 TRACE com.dz.apigw.controllers.APIGWMainController [http-nio-8881-exec-7] Remote request body is '{
	"telco": "vinaphone",
	"cp_code": "001",
	"service_code": "FPTPLAY",
	"service_id": "FPTPLAYID",
	"package_code": "VIP",
	"msisdn": "84919222400",
	"account": "dz",
	"otp_msg": "otp1244",
	"trans_id": "1234",
	"service": "otp_confirm"
}'
2020-05-12 15:13:39,821 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-7] Service from the request is 'otp_confirm'
2020-05-12 15:13:39,821 TRACE com.dz.apigw.services.APIGWMainServiceImpl [http-nio-8881-exec-7] [doOTPConfirm] doing otp confirm...
2020-05-12 15:13:39,822 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyParameter] Starting to check request: 1234
2020-05-12 15:13:39,822 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyParameter] Result: true
2020-05-12 15:13:39,823 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyRequestCredentials] Starting to check request: 1234
2020-05-12 15:13:39,823 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [verifyRequestCredentials] Result: true
2020-05-12 15:13:39,823 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-7] Send msg = Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='null', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:13:39,824 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-7] msgKeyword = null
2020-05-12 15:13:39,824 TRACE com.dz.apigw.msgqueue.AMQPMsgRouter [http-nio-8881-exec-7] Destination found: name = PAYMENTGW.TELCO.REQUEST.VINAPHONE, keyword = null
2020-05-12 15:13:39,825 INFO com.dz.apigw.msgqueue.AMQPProducer [http-nio-8881-exec-7] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VINAPHONE']= Notification {notificationType='OTP_CONFIRM_REQUEST', destinationQueueName='PAYMENTGW.APIGW.FPTPLAY', msg='APIGWLogDocument {msgType='OTPCONFIRM_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='001', telco='vinaphone', service='otp_confirm', service_code='FPTPLAY', service_id='FPTPLAYID', package_code='VIP', msisdn='0919222400', account='null',cmd='null',trans_id='1234'}'}
2020-05-12 15:13:39,829 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [insertRequest][to DB] Result ID: 5eba5ab3226bfb7941682ffc
2020-05-12 15:13:39,829 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba5ab3226bfb7941682ffc] from db
2020-05-12 15:13:40,834 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba5ab3226bfb7941682ffc] from db
2020-05-12 15:13:41,842 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba5ab3226bfb7941682ffc] from db
2020-05-12 15:13:42,849 INFO com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] starting to select result of the request [5eba5ab3226bfb7941682ffc] from db
2020-05-12 15:13:42,851 WARN com.dz.apigw.services.OTPConfirmServiceImpl [http-nio-8881-exec-7] [getResultOfProcess] the progress of the request is timeout -> return timeout error code to client
2020-05-12 15:13:42,853 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> {
2020-05-12 15:13:42,853 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"telco": "vinaphone",
2020-05-12 15:13:42,853 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"cp_code": "001",
2020-05-12 15:13:42,853 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service_code": "FPTPLAY",
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service_id": "FPTPLAYID",
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"package_code": "VIP",
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"msisdn": "84919222400",
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"account": "dz",
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"otp_msg": "otp1244",
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"trans_id": "1234",
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> 	"service": "otp_confirm"
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|> }
2020-05-12 15:13:42,854 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|< 200 OK
2020-05-12 15:13:42,855 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|<
2020-05-12 15:13:42,855 INFO com.dz.apigw.security.AuthorizationIPAddressFilter [http-nio-8881-exec-7] 127.0.0.1|< {"error_code":-1,"trans_id":"1234","message":null}
