2020-06-09 15:52:21,061 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] Routing file updated
2020-06-09 15:52:21,164 INFO com.dz.apigw.msgqueue.AMQPMsgRouter [pool-3-thread-1] New routes created.
2020-06-09 15:52:30,529 INFO com.dz.apigw.msgqueue.AMQPConsumer [SimpleAsyncTaskExecutor-1] [cpPaymentNotification] Received a new notification...
2020-06-09 15:52:30,539 INFO com.dz.apigw.msgqueue.AMQPConsumer [SimpleAsyncTaskExecutor-1] msg: Notification {notificationType='PAYMENT_NOTIFICATION_REQUEST', destinationQueueName='PAYMENTGW.TELCO.REQUEST.VIETTEL.MPS', channel='vinaphone', msg='MSG {msgType='PAYMENT_NOTIFICATION_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='FPTPLAY', telco='null', service='null', service_code='FPTPLAYDATA_TAILE', service_id='null', package_code='K1', msisdn='0982051117', account='0982051117',cmd='null',trans_id='',price='2000',evenTime='2020-06-09 03:52:30',errorCode='0', packageExpiredTime='null', renewCycleDay='0', shortCode='null', content='null', mo_id='null', originalRequestId='202006091552303825828055', dbId='5edf4dce226bfb91055930c4'}'}
2020-06-09 15:52:30,539 INFO com.dz.apigw.msgqueue.AMQPConsumer [SimpleAsyncTaskExecutor-1] [cpPaymentNotification] doing cp payment notification...
2020-06-09 15:52:30,580 INFO com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [verifyParameter] Starting to check request: 202006091552303825828055
2020-06-09 15:52:30,580 INFO com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [verifyParameter] Result: true
2020-06-09 15:52:30,588 INFO com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [processRequest] start to process request: 202006091552303825828055 [account=0982051117]
2020-06-09 15:52:30,589 INFO com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [CpId: 202006091552303825828055] Sending request [PaymentNotificationRequest {originalRequestId='202006091552303825828055', account='0982051117', price='2000', serviceCode='FPTPLAY', packageCode='K1', evenTime='2020-06-09 03:52:30', params='0', trans_id=''}] to http://127.0.0.1/
2020-06-09 15:52:30,718 ERROR com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [processRequest] Exception: I/O error on POST request for "http://127.0.0.1/": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
2020-06-09 15:52:30,719 INFO com.dz.apigw.msgqueue.AMQPProducer [SimpleAsyncTaskExecutor-1] Send msg = Notification {notificationType='PAYMENT_NOTIFICATION_RESPONSE', destinationQueueName='null', channel='null', msg='MSG {msgType='PAYMENT_NOTIFICATION_RESPONSE', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='null', telco='null', service='null', service_code='null', service_id='null', package_code='null', msisdn='null', account='null',cmd='null',trans_id='null',price='0',evenTime='null',errorCode='-1', packageExpiredTime='null', renewCycleDay='0', shortCode='null', content='null', mo_id='null', originalRequestId='null', dbId='5edf4dce226bfb91055930c4'}'}
2020-06-09 15:52:30,762 INFO com.dz.apigw.msgqueue.AMQPProducer [SimpleAsyncTaskExecutor-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VIETTEL.MPS']= Notification {notificationType='PAYMENT_NOTIFICATION_RESPONSE', destinationQueueName='null', channel='null', msg='MSG {msgType='PAYMENT_NOTIFICATION_RESPONSE', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='null', telco='null', service='null', service_code='null', service_id='null', package_code='null', msisdn='null', account='null',cmd='null',trans_id='null',price='0',evenTime='null',errorCode='-1', packageExpiredTime='null', renewCycleDay='0', shortCode='null', content='null', mo_id='null', originalRequestId='null', dbId='5edf4dce226bfb91055930c4'}'}
2020-06-09 15:56:48,911 INFO com.dz.apigw.msgqueue.AMQPConsumer [SimpleAsyncTaskExecutor-1] [cpPaymentNotification] Received a new notification...
2020-06-09 15:56:48,987 INFO com.dz.apigw.msgqueue.AMQPConsumer [SimpleAsyncTaskExecutor-1] msg: Notification {notificationType='PAYMENT_NOTIFICATION_REQUEST', destinationQueueName='PAYMENTGW.TELCO.REQUEST.VIETTEL.MPS', channel='vinaphone', msg='MSG {msgType='PAYMENT_NOTIFICATION_REQUEST', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='FPTPLAY', telco='null', service='null', service_code='FPTPLAYDATA_TAILE', service_id='null', package_code='K1', msisdn='0982051117', account='0982051117',cmd='null',trans_id='',price='2000',evenTime='2020-06-09 03:56:48',errorCode='0', packageExpiredTime='null', renewCycleDay='0', shortCode='null', content='null', mo_id='null', originalRequestId='202006091556488192786985', dbId='5edf4ed0226bfb91055930c7'}'}
2020-06-09 15:56:48,992 INFO com.dz.apigw.msgqueue.AMQPConsumer [SimpleAsyncTaskExecutor-1] [cpPaymentNotification] doing cp payment notification...
2020-06-09 15:56:49,075 INFO com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [verifyParameter] Starting to check request: 202006091556488192786985
2020-06-09 15:56:49,078 INFO com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [verifyParameter] Result: true
2020-06-09 15:56:49,081 INFO com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [processRequest] start to process request: 202006091556488192786985 [account=0982051117]
2020-06-09 15:56:49,082 INFO com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [CpId: 202006091556488192786985] Sending request [PaymentNotificationRequest {originalRequestId='202006091556488192786985', account='0982051117', price='2000', serviceCode='FPTPLAY', packageCode='K1', evenTime='2020-06-09 03:56:48', params='0', trans_id=''}] to http://127.0.0.1/
2020-06-09 15:56:49,169 ERROR com.dz.apigw.services.PaymentNotificationServiceImpl [SimpleAsyncTaskExecutor-1] [processRequest] Exception: I/O error on POST request for "http://127.0.0.1/": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
2020-06-09 15:56:49,173 INFO com.dz.apigw.msgqueue.AMQPProducer [SimpleAsyncTaskExecutor-1] Send msg = Notification {notificationType='PAYMENT_NOTIFICATION_RESPONSE', destinationQueueName='null', channel='null', msg='MSG {msgType='PAYMENT_NOTIFICATION_RESPONSE', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='null', telco='null', service='null', service_code='null', service_id='null', package_code='null', msisdn='null', account='null',cmd='null',trans_id='null',price='0',evenTime='null',errorCode='-1', packageExpiredTime='null', renewCycleDay='0', shortCode='null', content='null', mo_id='null', originalRequestId='null', dbId='5edf4ed0226bfb91055930c7'}'}
2020-06-09 15:56:49,178 INFO com.dz.apigw.msgqueue.AMQPProducer [SimpleAsyncTaskExecutor-1] Msg sent to queue[queue:'PAYMENTGW.TELCO.REQUEST.VIETTEL.MPS']= Notification {notificationType='PAYMENT_NOTIFICATION_RESPONSE', destinationQueueName='null', channel='null', msg='MSG {msgType='PAYMENT_NOTIFICATION_RESPONSE', keyword='null', status_process='0', msgRxTime='null', msgRtTime='null', cp_code='null', telco='null', service='null', service_code='null', service_id='null', package_code='null', msisdn='null', account='null',cmd='null',trans_id='null',price='0',evenTime='null',errorCode='-1', packageExpiredTime='null', renewCycleDay='0', shortCode='null', content='null', mo_id='null', originalRequestId='null', dbId='5edf4ed0226bfb91055930c7'}'}
